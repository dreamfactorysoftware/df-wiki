= Role Based Access Control (RBAC) =
'''Configure granular permissions for API access using DreamFactory's role-based access control system'''

<span id="role-based-access-control-rbac"></span>
= Role Based Access Control (RBAC) =

<span id="quick-reference"></span>
== Quick Reference ==

{| class="wikitable"
|-
! Concept
! Description
|-
| '''Role'''
| A named set of permissions that define which services and operations are allowed
|-
| '''Service'''
| An API endpoint (database, file storage, etc.)
|-
| '''Component'''
| A specific resource within a service (e.g., <code>_table/employees</code>)
|-
| '''Access'''
| HTTP methods allowed (GET, POST, PUT, PATCH, DELETE)
|-
| '''API Key'''
| Authentication token associated with one or more roles
|}

<span id="permission-hierarchy"></span>
== Permission Hierarchy ==

<pre>API Key → Role(s) → Service Access → Component Access → HTTP Methods</pre>
<span id="creating-role-based-access-controls"></span>
== Creating Role Based Access Controls ==

Over time your DreamFactory instance will likely manage multiple APIs. Chances are you're going to want to silo access to these APIs, creating one or several API keys for each. These API keys will be configured to allow access to one or some APIs, but in all likelihood not all of them. To accomplish this, you'll create a ''role'' which is associated with one or more services, and then assign that role to an ''API Key''.

To create a role, in the left navbar click on the '''Role Based Access''' tab:

[[File:role-navbar.png|thumb|Creating a Role for your DreamFactory API]]

Click the purple + button to create a new Role. You are prompted to enter a role name and description. Unlike the service name, the role name is only used for human consumption so be sure to give it a descriptive name such as <code>MySQL Role</code>. There is an '''Access Overview''' section to identify the API(s) which should be associated with this service. The default interface looks like this:

[[File:role-access-overview.png|thumb|Name your Role]]

The '''Service''' select box contains all of the APIs you've defined thus far, including a few which are automatically included with each DreamFactory instance (<code>system</code>, <code>api_docs</code>, etc). Select the <code>mysql</code> service. Now here's where things get really interesting. After selecting the <code>mysql</code> service, click the '''Component''' select box. This select box contains a list of all assets exposed through this API! If you leave the '''Component''' select box set to <code>*</code>, then the role has access to all of the APIs assets. However, you're free to restrict the role's access to one or several assets by choosing for example <code>_table/employees/*</code>. This would limit this role's access to ''just'' performing CRUD operations on the <code>employees</code> table! Further, using the <code>Access</code> select box, you can restrict which methods can be used by the role, selecting only <code>GET</code>, only <code>POST</code>, or any combination of methods.

If you want to add access to another asset, or even to another service, just click the plus sign next to the '''Advanced Filters''' header, and an additional row is added to the interface:

[[File:mysql-role-access.png|thumb|Assign a Service to the Created Role]]

Use the new row to assign another service and/or previously assigned service component to the role. In the screenshot you can see the role has been granted complete access to the <code>mysql</code> service's <code>employees</code> table, and read-only access to the <code>departments</code> table.

Once you are satisfied with the role's configuration, click '''Save''' to create the role. With that done, it's time to create a new API Key and attach it to this role.

<span id="example-role"></span>
== Example Role ==

Here is an example of a role that gives GET (read) level access to API Generation &amp; Connections.

[[File:mysql-example-role.png|thumb|Basic all access role for GETs]]

This role is a good starting point for individuals that will be making API calls using API Docs. Being GET only the Database will not be permanently altered by accident. From here you can change or add additional permissons to fine tune the users permissions in the UI. For instance you could add PATCH or DELETE to the Access column if the user needs those for testing purposes.

== See also ==
* [[Security/Sql_Server_Configuration|Configuring Windows Authentication for SQL Server]]
* [[Security/Authentication_Apis|Authenticating your APIs]]
* [[Security/Security_Faq|Security FAQ]]
* [[Security/Rate_Limiting|Rate Limiting]]

[[Category:Rbac]]
[[Category:Role-Based_Access]]
[[Category:Api_Security]]
[[Category:Security]]
[[Category:Difficulty_Beginner]]
